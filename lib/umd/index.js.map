{"version":3,"file":"index.js","sources":["is-known-ctor/ctors.js","is-known-ctor/index.js","better-result/index.js","camel-case/index.js","take-first/index.js","compare-ab/get-model.js","compare-ab/get-view.js","compare-ab/index.js","comparator/index.js","convert-string/to-number.js","to-bool/options.js","to-bool/index.js","convert-string/converters.js","convert-string/index.js","flat/index.js","get-by-path/get-property.js","get-by-path/get-by-path-array.js","get-by-path/index.js","get-option/index.js","is-empty-value/index.js","flags/helpers.js","flags/get.js","flags/has.js","mix/options.js","mix/create-mixin-from-object.js","mix/normalize-arguments.js","mix/with.js","mix/index.js","params-to-object/index.js","set-by-path/set-property.js","set-by-path/set-by-path-array.js","set-by-path/normalize-options.js","set-by-path/trigger-model-change-events.js","set-by-path/ensure-arguments.js","set-by-path/index.js","unflat/index.js","compare-objects/index.js","trigger-method/index.js","merge-options/index.js","build-view-by-key/index.js","enums/index.js","skip-take/index.js","merge-objects/index.js"],"sourcesContent":["import { Model, Collection, BackboneView, Router, MnObject, Region, BaseClass } from 'bbmn-core';\r\nimport Mn from 'backbone.marionette';\r\n\r\nconst ctors = _.reduce([\r\n\tModel, Collection, BackboneView, Router, MnObject, Region, BaseClass\r\n], (ctors, ctor) => {\r\n\t/* istanbul ignore next */\r\n\tif(_.isFunction(ctor)){\r\n\t\tctors.push(ctor);\r\n\t}\r\n\treturn ctors;\r\n}, []);\r\n\r\n\r\nlet tryGetFromMn = ['Application', 'AppRouter'];\r\n\r\n_.each(tryGetFromMn, ClassName => {\r\n\t_.isFunction(Mn[ClassName]) && ctors.push(Mn[ClassName]);\r\n});\r\n\r\n\r\nexport default ctors;\r\n","import knownCtors from './ctors.js';\r\n\r\nfunction isKnownCtor(arg) {\r\n\tlet isFn = _.isFunction(arg);\r\n\tlet result = _(knownCtors).some((ctor) => arg === ctor || arg.prototype instanceof ctor);\r\n\treturn isFn && result;\r\n}\r\n\r\nexport default isKnownCtor;\r\n","import isKnownCtor from '../is-known-ctor/index.js';\r\n\r\nexport default function betterResult(obj = {}, key, opts = {})\r\n{\r\n\tlet { context, args, checkAlso, force } = opts;\r\n\tlet defaultValue = opts.default;\r\n\r\n\tif (!_.isString(key) || key === '') { return; }\r\n\t\r\n\tlet value = obj[key];\r\n\r\n\tif (value != null && (!_.isFunction(value) || isKnownCtor(value))) {\r\n\t\treturn value;\r\n\t}\r\n\t\r\n\tif (force !== false && _.isFunction(value)) {\r\n\t\tvalue = value.apply(context || obj, args);\r\n\t}\r\n\r\n\t//let result = force !== false && _.isFunction(value) ? value.apply(context || obj, args) : value;\r\n\r\n\tif (value == null && _.isObject(checkAlso)) {\r\n\t\tlet alsoOptions = _.omit(opts, 'checkAlso');\r\n\t\tvalue = betterResult(checkAlso, key, alsoOptions);\r\n\t}\r\n\r\n\tif (value == null && defaultValue != null ) {\r\n\t\tvalue = defaultValue;\r\n\t}\r\n\r\n\treturn value;\r\n}\r\n","// camelCase('asd:qwe:zxc') -> asdQweZxc\r\n// camelCase('asd:qwe:zxc', true) -> AsdQweZxc\r\nexport default function camelCase(...args) {\r\n\t\r\n\tlet text;\r\n\tlet first;\r\n\r\n\tif (!args.length) return;\r\n\telse if (args.length == 1) {\r\n\t\ttext = args[0];\r\n\t} else {\r\n\t\tif(_.isBoolean(args[args.length - 1])){\r\n\t\t\tfirst = args.pop();\r\n\t\t}\r\n\t\ttext = _.filter(args, chunk => chunk != null).join(':');\r\n\t}\r\n\r\n\tif (!text) return text;\r\n\r\n\tif (!_.isString(text)) return text.toString();\r\n\ttext = text.replace(/:{2,}/gmi,':');\r\n\tvar splitter = first === true ? /(^|:)(\\w)/gi : /(:)(\\w)/gi;\r\n\ttext = text.replace(splitter, (match, prefix, text) => text.toUpperCase());\r\n\tif(!first)\r\n\t\ttext = text.replace(/(^)(\\w)/gi, (match, prefix, text) => text.toLowerCase());\r\n\treturn text;\r\n\r\n}\r\n","export default function takeFirst(key, ...args) {\r\n\tif(!_.isString(key) || key === '') return;\r\n\tlet value;\r\n\t_.some(args, arg => {\r\n\t\tif (!_.isObject(arg)) { return false; }\r\n\r\n\t\tif (key in arg) {\r\n\t\t\tvalue = arg[key];\r\n\t\t\treturn true;\r\n\t\t}\r\n\t});\r\n\treturn value;\r\n}\r\n","import { isModel, isView } from 'bbmn-core';\r\n\r\nexport default function getModel(arg){\r\n\r\n\tif (isModel(arg)) { return arg; }\r\n\t\r\n\tif (isView(arg)) { return arg.model; }\r\n\r\n}\r\n","import { isView }  from 'bbmn-core';\r\nexport default function getModel(arg){\r\n\treturn isView(arg) && arg;\r\n}\r\n","\r\nimport getModel from './get-model.js';\r\nimport getView from './get-view.js';\r\nexport default function compareAB(a, b, func){\r\n\tif(_.isArray(func)) {\r\n\r\n\t\tlet result = 0;\r\n\r\n\t\t_(func).every((f) => {\r\n\t\t\tresult = compareAB(a,b,f);\r\n\t\t\treturn result === 0;\r\n\t\t});\r\n\t\t\r\n\t\treturn result;\r\n\t} else {\r\n\t\tif (_.isFunction(func)) {\r\n\t\t\ta = func.call(a, getModel(a), getView(a));\r\n\t\t\tb = func.call(b, getModel(b), getView(b));\r\n\t\t}\r\n\r\n\t\tif (a < b) return -1;\r\n\t\tif (a > b) return 1;\r\n\t\treturn 0;\r\n\r\n\t}\r\n}\r\n","import compareAB from '../compare-ab/index.js';\r\nexport default function comparator(...args){\r\n\tvar result = 0;\r\n\r\n\t//for simple case (arg1, arg2, compare)\r\n\tif (args.length <= 3 && !_.isArray(args[0])){\r\n\r\n\t\treturn compareAB.apply(null, args);\r\n\r\n\t} \r\n\t//for complex cases ([arg1, arg2, compare], [], .... [])\r\n\t//each arguments should be an array\r\n\telse {\r\n\r\n\t\t_(args).every((single) => {\r\n\r\n\t\t\tif (!_.isArray(single)) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tresult = compareAB(...single);\r\n\t\t\treturn result === 0;\r\n\t\t});\r\n\r\n\t}\r\n\r\n\treturn result;\r\n}\r\n","export default function toNumber(text){\r\n\r\n\tif(_.isNumber(text) && !_.isNaN(text)) {\r\n\t\treturn text;\r\n\t} else if (text == null || !_.isString(text)) { \r\n\t\treturn; \r\n\t}\r\n\t\r\n\tlet value = parseFloat(text, 10);\r\n\r\n\tif(isNaN(value)) { return; }\r\n\t\t\r\n\treturn value;\r\n}\r\n","export default {\r\n\tnullable: true, \r\n\tstrict: false,\r\n\treturnNullAs: undefined, \r\n\treturnEmptyAs: undefined, \r\n\treturnNullAndEmptyAs: undefined,\r\n\treturnAnyAs: undefined, \r\n\treturnOtherAs: undefined\r\n};\r\n","import defaultOptions from './options.js';\r\n\r\nconst trueValues = ['true','1','-1','yes'];\r\nconst falseValues = ['false','0','no'];\r\n\r\nconst alternative = function(...args) {\r\n\tlet returnValue;\r\n\t_(args).some(arg => {\r\n\t\tif(_.isBoolean(arg)) {\r\n\t\t\treturnValue = arg;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t});\r\n\treturn returnValue;\r\n};\r\n\r\nconst valueOrAlternative = function(nullable, nullValue, value, ...alts){\r\n\tlet alt = alternative(...alts);\r\n\tif (alt != null)\r\n\t\treturn alt;\r\n\telse if (nullable)\r\n\t\treturn nullValue;\r\n\telse\r\n\t\treturn value;\r\n};\r\n\r\nconst convertToBoolean = function (arg, opts = {})\r\n{\r\n\r\n\tlet other;\r\n\tlet options = _.extend({}, defaultOptions, opts);\r\n\tlet { \r\n\t\tnullable, strict,\r\n\t\treturnNullAs, returnEmptyAs, returnNullAndEmptyAs,\r\n\t\treturnAnyAs, returnOtherAs\r\n\t} = options;\r\n\r\n\r\n\r\n\tif (arg == null) {\r\n\t\treturn valueOrAlternative(nullable, undefined, false, returnNullAs, returnNullAndEmptyAs);\r\n\t}\r\n\telse if (arg === '') {\r\n\t\treturn valueOrAlternative(nullable, undefined, false, returnEmptyAs, returnNullAndEmptyAs);\r\n\t} else if (_.isBoolean(arg)) {\r\n\t\treturn arg;\r\n\t}\r\n\t//  else if (_.isObject(arg)) {\r\n\t// }\r\n\t\r\n\tother = strict \r\n\t\t? (nullable ? undefined : false) \r\n\t\t: true;\r\n\t\t\r\n\r\n\tlet text = arg.toString().toLowerCase();\r\n\tlet isTrue = convertToBoolean.trueValues.indexOf(text) > -1;\r\n\tlet isFalse = convertToBoolean.falseValues.indexOf(text) > -1;\r\n\r\n\r\n\tif (_.isBoolean(returnAnyAs)) {\r\n\t\treturn returnAnyAs;\r\n\t} else if (_.isBoolean(returnOtherAs)) {\r\n\t\tother = returnOtherAs;\r\n\t}\r\n\t\r\n\treturn isTrue \r\n\t\t? true \r\n\t\t: isFalse \r\n\t\t\t? false \r\n\t\t\t: other;\r\n};\r\n\r\nconvertToBoolean.trueValues = trueValues;\r\nconvertToBoolean.falseValues = falseValues;\r\nexport default convertToBoolean;\r\n","import toNumber from './to-number.js';\r\nimport toBool from '../to-bool/index.js';\r\n\r\nexport default {\r\n\tnumber: toNumber,\r\n\tboolean: toBool,\r\n\tbool: toBool,\r\n};\r\n","\r\nimport converters from './converters.js';\r\n\r\n//this is under development yet and can be change in any time\r\nexport default function convertString(text, type, opts) {\r\n\r\n\tif (!_.isString(type)) { \r\n\t\tthrow new Error('type should be a string');\r\n\t}\r\n\r\n\tconst converter = converters[type];\r\n\r\n\tif (!_.isFunction(converter)) {\r\n\t\tthrow new Error(`string converter ${type} is not a function`);\r\n\t}\r\n\r\n\treturn converter(text, opts);\r\n\t\r\n}\r\n","import { isModel } from 'bbmn-core';\r\n\r\nexport const privateApi = { \r\n\ttraverse(source, destination = {}, root = '') {\r\n\t\r\n\t\tif (!_.isObject(source) || source === global) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar hash = isModel(source) ? source.attributes : source;\r\n\r\n\t\tvar props = Object.getOwnPropertyNames(hash);\r\n\r\n\t\tfor (var x = 0; x < props.length; x++) {\r\n\t\t\tvar name = props[x];\r\n\t\t\tvar prop = hash[name];\r\n\t\t\tif (prop === undefined) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\telse if (_.isArray(prop)) {\r\n\t\t\t\tdestination[root + name] = prop.slice(0);\r\n\t\t\t}\r\n\t\t\telse if (_.isDate(prop)) {\r\n\t\t\t\tdestination[root + name] = new Date(prop.valueOf());\r\n\t\t\t}\r\n\t\t\telse if (!_.isObject(prop)) {\r\n\t\t\t\tdestination[root + name] = prop;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tprivateApi.traverse(prop, destination, root + name + '.');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn destination;\r\n\t}\r\n};\r\n\r\nexport default function flattenObject(obj) {\r\n\tif (_.isObject(obj)) { \r\n\t\treturn privateApi.traverse(obj);\r\n\t} \r\n}\r\n","import { isModel } from 'bbmn-core';\r\nfunction getProperty(context, name)\r\n{\r\n\tif(context == null || !_.isObject(context) || name == null || name == '') return;\r\n\tif (isModel(context))\r\n\t\treturn context.get(name, { gettingByPath: true  });\r\n\telse\r\n\t\treturn context[name];\r\n}\r\nexport default getProperty;\t\r\n","\r\nimport getProperty from './get-property.js';\r\n\r\nfunction getByPathArray(context, propertyName, pathArray) {\r\n\t\r\n\tif (context == null || !_.isObject(context) || propertyName == null || propertyName == '')\r\n\t\treturn;\r\n\r\n\tvar prop = getProperty(context, propertyName);\r\n\r\n\tif (!pathArray.length || (pathArray.length && prop == null))\r\n\t\treturn prop;\r\n\r\n\tvar nextName = pathArray.shift();\r\n\r\n\treturn getByPathArray(prop, nextName, pathArray);\r\n\r\n}\r\n\r\nexport default getByPathArray;\r\n","import getByPathArray from './get-by-path-array.js';\r\n\r\nexport default function getByPath(obj, path) {\r\n\r\n\tif (obj == null || !_.isObject(obj) || path == null || path == '') return;\r\n\r\n\tvar pathArray = _.isString(path) ? path.split('.')\r\n\t\t: _.isArray(path) ? [].slice.call(path)\r\n\t\t\t: [path];\r\n\r\n\tvar prop = pathArray.shift();\r\n\r\n\treturn getByPathArray(obj, prop, pathArray);\r\n\r\n}\r\n","import result from '../better-result/index.js';\r\n\r\nexport default function getOption(context = {}, key, opts, also) {\r\n\r\n\tif(_.isObject(key) && _.isString(opts)){\r\n\t\tlet _opts = also;\r\n\t\talso = key;\r\n\t\tkey = opts;\r\n\t\topts = _opts;\r\n\t}\r\n\r\n\tlet options = _.extend({ args:[context], context }, opts, { default: null });\r\n\tlet { deep } = options;\r\n\tlet defaultValue = opts && opts.default;\r\n\r\n\tlet value = result(context.options || also, key, options);\r\n\tif (value == null && deep !== false) {\r\n\t\tvalue = result(context, key, options);\r\n\t}\r\n\t\r\n\treturn value != null ? value : defaultValue;\r\n\r\n}\r\n\r\nexport function instanceGetOption(...args){\r\n\treturn getOption(this, ...args);\r\n}\r\n","export default function isEmptyValue(arg, { allowWhiteSpace = false } = {}) {\r\n\r\n\tif (arg == null || _.isNaN(arg)) return true;\r\n\r\n\tif (!_.isString(arg)) return false;\r\n\t\r\n\tif (arg === '') return true;\r\n\t\r\n\treturn !allowWhiteSpace && arg.trim() === '';\r\n\t\r\n}\r\n","import isEmptyValue from '../is-empty-value/index.js';\r\n\r\n\r\nexport function normalizeStringArray(arr){\r\n\treturn _.reduce(arr, (result, item) => {\r\n\t\t\r\n\t\tif (isEmptyValue(item)) { return result; }\r\n\r\n\t\tresult.push(item.toString());\r\n\t\treturn result;\r\n\r\n\t}, []);\r\n}\r\n\r\n\r\nexport function normalizeArgument(value, options, returnObject) {\r\n\r\n\tif(_.isString(value)) {\r\n\t\tvalue = value.split(/\\s*,\\s*/gmi);\r\n\t}\r\n\r\n\tif (_.isArray(value)) {\r\n\t\treturn normalizeStringArray(value, options);\r\n\t} else if (_.isObject(value) && returnObject) {\r\n\t\treturn value;\r\n\t}\r\n\r\n}\r\n\r\n\r\nexport function normalizeValueAndFlag(value, flag, options) {\r\n\treturn {\r\n\t\tvalues: normalizeArgument(value, options, true),\r\n\t\tflags: normalizeArgument(flag, options)\r\n\t};\r\n}\r\n\r\nfunction compare(a, b, { caseSensitive }){\r\n\t\r\n\tif(!caseSensitive) {\r\n\t\ta = a.toLowerCase();\r\n\t\tb = b.toLowerCase();\r\n\t}\r\n\t\r\n\treturn a === b;\r\n}\r\n\r\nexport function searchFlags(values, flags,  options)\r\n{\r\n\tlet isArray = _.isArray(values);\r\n\tlet { useObjectValues } = options;\r\n\r\n\tlet result =_.reduce(values, (filtered, item, key) => {\r\n\t\tlet check = item;\r\n\t\tif(!isArray && !useObjectValues){\r\n\t\t\tcheck = key;\r\n\t\t}\r\n\t\t\r\n\t\tlet good = _.some(flags, flag => compare(check, flag, options));\r\n\t\r\n\t\tif (!good) { return filtered; }\r\n\t\r\n\t\tif (isArray) {\r\n\t\t\tfiltered.push(check);\r\n\t\t} else {\r\n\t\t\tfiltered.push({value: item, key });\r\n\t\t}\r\n\r\n\t\treturn filtered;\r\n\t}, []);\r\n\r\n\r\n\tlet all = options.all;\r\n\tif (\r\n\t\t!result.length \r\n\t\t|| (all && result.length != values.length)\r\n\t) { \r\n\t\treturn; \r\n\t}\r\n\r\n\treturn result;\r\n}\r\n","import { searchFlags, normalizeValueAndFlag } from './helpers';\r\n\r\n\r\nconst processReturns = {\r\n\tstring: ({ isArray, founded, delimeter, takeObjectKeys }) => {\t\t\r\n\t\tif (isArray) {\r\n\t\t\treturn founded.join(delimeter);\r\n\t\t} else {\r\n\t\t\tlet key = takeObjectKeys ? 'key' : 'value';\r\n\t\t\treturn _.pluck(founded, key).join(delimeter);\r\n\t\t}\t\t\r\n\t},\r\n\tarray: ({ isArray, doNotPluck, founded, takeObjectKeys }) => {\r\n\t\tif (isArray || doNotPluck) {\r\n\t\t\treturn founded;\r\n\t\t} else {\r\n\t\t\tlet key = takeObjectKeys ? 'key' : 'value';\r\n\t\t\treturn _.pluck(founded, key);\r\n\t\t}\t\t\r\n\t},\r\n\tobject: ({ isArray, takeObjectKeys, founded }) => {\r\n\t\treturn _.reduce(founded, (result, item, index) => {\r\n\t\t\tlet value = isArray \r\n\t\t\t\t? item \r\n\t\t\t\t: takeObjectKeys ? item.key : item.value;\r\n\t\t\tlet key = isArray \r\n\t\t\t\t? index \r\n\t\t\t\t: takeObjectKeys ? item.value : item.key;\r\n\t\t\tresult[key] = value;\r\n\t\t\treturn result;\r\n\t\t}, {});\r\n\t},\r\n};\r\n\r\nfunction normalizedReturn({ returnAs, flag, isArray, founded, delimeter, takeObjectKeys, doNotPluck }){\t\r\n\tif (returnAs == null) {\r\n\t\treturnAs = _.isArray(flag) ? 'array' : 'string';\r\n\t}\t\r\n\tlet processor = processReturns[returnAs];\t\r\n\tif(!_.isFunction(processor)) { return; }\r\n\r\n\tlet processorOptions = {\r\n\t\tisArray, founded, delimeter, takeObjectKeys, doNotPluck\r\n\t};\r\n\r\n\treturn processor(processorOptions);\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default function getFlag(value, flag, options = {}) {\r\n\r\n\tlet { flags, values } = normalizeValueAndFlag(value, flag, options);\r\n\tif (!flags || !values) {\r\n\t\treturn;\r\n\t}\r\n\r\n\r\n\tlet founded = searchFlags(values, flags, options);\r\n\tif(!founded) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tlet returnOptions = _.extend({ \r\n\t\tdelimeter: ', ', \r\n\t\tisArray: _.isArray(values),\r\n\t\tflag,\r\n\t\tfounded\r\n\t}, _.pick(options, 'returnAs', 'takeObjectKeys', 'doNotPluck' ));\r\n\t\r\n\t\r\n\treturn normalizedReturn(returnOptions);\r\n}\r\n","import { searchFlags, normalizeValueAndFlag } from './helpers';\r\n\r\n\r\nexport default function hasFlag(value, flag, options = {}){\r\n\r\n\tif (value == null || flag == null) return false;\r\n\r\n\tif(_.isNumber(value)) {\r\n\r\n\t\tif (!_.isNumber(flag)) return false;\r\n\r\n\t\tlet has = value & flag;\r\n\t\treturn options.all === true ? has === flag : has > 0;\r\n\r\n\t}\r\n\t\r\n\tlet { flags, values } = normalizeValueAndFlag(value, flag, options);\r\n\tif (!flags || !values) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\r\n\tlet founded = searchFlags(values, flags, options);\r\n\treturn !!founded && !!founded.length;\r\n\r\n}\r\n","export default {\r\n\tmergeObjects: true,\r\n\twrapObjectWithConstructor: true,\r\n};\r\n","export default function createMixinFromObject(arg) {\r\n\r\n\tlet mixedObj = _.clone(arg);\r\n\tlet ctor = mixedObj.hasOwnProperty('constructor') && _.isFunction(mixedObj.constructor) && mixedObj.constructor;\r\n\tlet hasConstructor = _.isFunction(ctor);\r\n\t\t\r\n\treturn Base => { \r\n\t\tif (hasConstructor) {\r\n\t\t\tmixedObj.constructor = function mx(){\r\n\t\t\t\tBase.apply(this, arguments);\r\n\t\t\t\tctor.apply(this, arguments);\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn Base.extend(mixedObj);\r\n\t};\r\n}\r\n","\r\nimport createMixinFromObject from './create-mixin-from-object.js';\r\n\r\nexport default function normalizeArguments(args, opts) {\r\n\tlet raw = {};\r\n\tlet wrap = opts.wrapObjectWithConstructor == true;\r\n\tlet merge = opts.mergeObjects == true;\r\n\tlet mixins = [];\r\n\t_(args).each(arg => {\r\n\t\t\r\n\t\t//if argument is function just put it to mixins array\r\n\t\t//and continue;\r\n\t\tif (_.isFunction(arg)) {\r\n\t\t\tmixins.push(arg);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t//if argument is not an object just skip it\r\n\t\tif (!_.isObject(arg)) return;\r\n\r\n\t\t//if mergeObjects == false or wrapObjectWithConstructor == true \r\n\t\t//and there is a constructor function\r\n\t\t//converting to a mixin function\r\n\t\t//otherwise extend rawObject\r\n\t\tif (!merge || (wrap && _.isFunction(arg.constructor))) {\r\n\t\t\tmixins.push(createMixinFromObject(arg));\r\n\t\t} \r\n\t\telse {\r\n\t\t\t_.extend(raw, arg);\r\n\t\t}\r\n\t\r\n\t});\r\n\r\n\t//if rawObject is not empty\r\n\t//convert it to a mixin function\r\n\t//and put it to the begin of mixins array\r\n\tif (_.size(raw))\r\n\t\tmixins.unshift(createMixinFromObject(raw));\r\n\r\n\treturn mixins;\r\n}\r\n","import normalizeArguments from './normalize-arguments.js';\r\n\r\nexport default function withMethod(...args) {\r\n\r\n\tlet mixins = normalizeArguments(args, this.options);\r\n\tlet Mixed = this.class;\r\n\tif (!mixins.length) {\r\n\t\treturn Mixed;\r\n\t} else {\r\n\t\treturn _.reduce(mixins, (Memo, Ctor) => { \r\n\t\t\tlet mixed = Ctor(Memo);\r\n\t\t\treturn mixed;\r\n\t\t}, Mixed);\r\n\t}\r\n}\r\n","import defaultOptions from './options.js';\r\nimport withMethod from './with.js';\r\n\r\nimport extend from '../extend/index.js';\r\n\r\n\r\n\r\nexport default function mix(_ctor, options) {\r\n\r\n\tlet opts = _.extend({}, defaultOptions, options);\r\n\r\n\tlet ctor;\r\n\r\n\tif (_.isFunction(_ctor)) {\r\n\t\tctor = _ctor;\r\n\t}\r\n\telse if (_.isObject(_ctor)) {\r\n\t\tlet b = _.isFunction(_ctor.constructor) && _ctor.constructor;\r\n\t\tctor = function mx() { b.apply(this, arguments); };\r\n\t\t_.extend(ctor.prototype, _.omit(_ctor,'constructor'));\r\n\r\n\t} else {\r\n\t\tthrow new Error('Mix argument should be a class or a plain object');\r\n\t}\r\n\r\n\tif (!_.isFunction(ctor.extend)) {\r\n\t\tctor.extend = extend;\r\n\t}\r\n\r\n\treturn {\r\n\t\toptions: opts,\r\n\t\twith: withMethod,\r\n\t\tclass: ctor,\r\n\t};\r\n}\r\n","import isEmptyValue from '../is-empty-value/index.js';\r\n\r\nfunction pstoSetPair(context, pair, options){\r\n\tif (!_.isString(pair) || pair === '') return;\r\n\r\n\tlet keyvalue = pair.split('=');\r\n\tlet key = keyvalue.shift();\r\n\tlet value = keyvalue.join('=');\r\n\tpstoSetKeyValue(context, key, value, options);\r\n}\r\n\r\nfunction pstoSetKeyValue(context, key, value, options){\r\n\t\t\r\n\tif (isEmptyValue(key) || isEmptyValue(value)) return;\r\n\r\n\tkey = decodeURIComponent(key);\r\n\tvalue = decodeURIComponent(value);\r\n\r\n\tlet transform = options.transform;\r\n\tif(_.isFunction(transform)) {\r\n\t\tvalue = transform(key, value, options);\r\n\t}\r\n\r\n\tif(!(key in context)) {\r\n\t\tcontext[key] = value;\r\n\t\treturn value;\r\n\t}\r\n\r\n\tif (!_.isArray(context[key])) {\r\n\t\tcontext[key] = [context[key]];\r\n\t}\r\n\r\n\tcontext[key].push(value);\r\n\r\n\treturn context[key];\r\n}\r\n\r\nexport default function paramsToObject(raw, options = {}) {\r\n\tlet emptyObject = options.emptyObject !== false;\r\n\tlet result = {};\r\n\tif(!_.isString(raw)) return emptyObject ? result : raw;\r\n\r\n\tlet pairs = raw.split('&');\r\n\t_(pairs).each((pair) => pstoSetPair(result, pair, options));\r\n\t\r\n\tif (!_.size(result) && !emptyObject) {\r\n\t\treturn raw;\r\n\t}\r\n\r\n\treturn result;\r\n}\r\n","import getProperty from '../get-by-path/get-property.js';\r\nimport { isModel } from 'bbmn-core';\r\n\r\nfunction setProperty(context, name, value) {\r\n\tif (isModel(context)) {\r\n\t\tcontext.set(name, value, { silent: true });\r\n\t}\r\n\telse {\r\n\t\tcontext[name] = value;\r\n\t}\r\n\r\n\treturn getProperty(context, name);\r\n}\r\n\r\nexport default setProperty;\r\n","import getProperty from '../get-by-path/get-property.js';\r\nimport setProperty from './set-property.js';\r\n\r\nimport { isModel } from 'bbmn-core';\r\nexport default function setByPathArr(context, propertyName, pathArray, value, options) {\r\n\r\n\tlet modelContext;\r\n\tif (isModel(context)) {\r\n\t\tmodelContext = {\r\n\t\t\tmodel: context,\r\n\t\t\tproperty: propertyName,\r\n\t\t\tpathChunks: [].slice.call(pathArray)\r\n\t\t};\r\n\t}\r\n\r\n\t//set value if this is a last chunk of path\r\n\tif (!pathArray.length) {\r\n\r\n\t\tmodelContext && options.models.push(modelContext);\r\n\r\n\t\treturn {\t\t\t\r\n\t\t\tvalue: setProperty(context, propertyName, value, options)\r\n\t\t};\r\n\r\n\t} else {\r\n\r\n\t\tvar prop = getProperty(context, propertyName);\r\n\r\n\t\tif (!_.isObject(prop) && !options.force) {\r\n\t\t\treturn;\r\n\t\t} else if (!_.isObject(prop) && options.force) {\r\n\t\t\tprop = setProperty(context, propertyName, {}, options);\r\n\t\t} \r\n\r\n\t\tmodelContext && options.models.push(modelContext);\r\n\r\n\t\tvar nextName = pathArray.shift();\r\n\r\n\t\treturn setByPathArr(prop, nextName, pathArray, value, options);\r\n\r\n\t}\r\n}\r\n","export default function normalizeSetByPathOptions(opts = {}, ext)\r\n{\r\n\tlet { silent, force } = opts;\r\n\tsilent = silent === true;\r\n\tforce = force !== false;\r\n\tlet options = _.extend({}, opts, ext, {\r\n\t\tsilent, force,\r\n\t\tmodels: []\r\n\t});\r\n\r\n\treturn options;\r\n}\r\n","export default function triggerModelEventsOnSetByPath(value, options)\r\n{\r\n\tif (options.silent || !options.models.length) {\r\n\t\treturn;\r\n\t}\r\n\t\r\n\t_(options.models).each(context => {\r\n\t\tlet rest = context.pathChunks.join(':');\r\n\t\tif (rest) {\r\n\t\t\tcontext.model.trigger(`change:${context.property}:${rest}`, context.model, value);\r\n\t\t}\r\n\t\tcontext.model.trigger(`change:${context.property}`, context.model, value);\r\n\t\tcontext.model.trigger('change', context.model);\r\n\t});\r\n\r\n}\r\n","export default function ensureSetByPathArguments(context, path)\r\n{\r\n\tlet errors = [];\r\n\tif (!_.isObject(context)) {\r\n\t\terrors.push(new Error('Context is not an object'));\r\n\t}\r\n\tif (!_.isString(path) || path === '') {\r\n\t\terrors.push(new Error('Path is not a string'));\r\n\t}\r\n\tif (errors.length) {\r\n\t\treturn errors;\r\n\t}\r\n}\r\n","import setByPathArray from './set-by-path-array.js';\r\nimport normalizeOptions from './normalize-options.js';\r\nimport triggerModelChangeEvents from './trigger-model-change-events.js';\r\nimport ensureArguments from './ensure-arguments.js';\r\nexport default function setByPath(context, path, value, opts) {\r\n\r\n\tlet argumentsErrors = ensureArguments(context, path);\r\n\tif (argumentsErrors) {\r\n\t\treturn value;\r\n\t}\r\n\r\n\tlet pathArray = path.split('.');\t\r\n\tlet options = normalizeOptions(opts, { path, pathArray: [].slice.call(pathArray) });\r\n\r\n\tlet propertyName = pathArray.shift();\r\n\r\n\tlet result = setByPathArray(context, propertyName, pathArray, value, options);\r\n\tif (result === undefined) {\r\n\t\treturn value;\r\n\t} else {\r\n\t\ttriggerModelChangeEvents(value, options);\r\n\t\treturn result.value;\r\n\t}\r\n\r\n}\r\n\r\n\r\n","import setByPath from '../set-by-path/index.js';\r\n\r\nexport default function unFlat(obj) {\r\n\r\n\tif (obj == null || !_.isObject(obj)) return;\r\n\tvar res = {};\r\n\tfor (var e in obj) {\r\n\t\tsetByPath(res, e, obj[e]);\r\n\t}\r\n\treturn res;\r\n}\r\n\r\n","\r\nfunction check(arg, opts) {\r\n\topts.ob += _.isObject(arg) && 1 || 0;\r\n\topts.ar += _.isArray(arg) && 1 || 0;\r\n\topts.fn += _.isFunction(arg) && 1 || 0;\r\n\topts.sum += (opts.ob + opts.ar + opts.fn);\r\n}\r\n\r\nfunction checkArguments(a,b)\r\n{\r\n\tlet chck = { ob:0, ar:0, fn: 0, sum:0  };\r\n\tcheck(a, chck);\r\n\tcheck(b, chck);\r\n\treturn [chck.sum, chck.ob, chck.fn, chck.ar];\r\n}\r\n\r\nexport default function compareObjects(objectA, objectB) {\r\n\tlet [sum, ...vals] = checkArguments(objectA, objectB);\r\n\tif (sum === 0) {\r\n\t\treturn objectA == objectB;\r\n\t}\r\n\tif(!_.every(vals, val => val % 2 === 0)) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tlet size = _.size(objectA);\r\n\tif (size != _.size(objectB)) { return false; }\r\n\r\n\tif (_.isArray(objectA)) {\r\n\t\tlet allvalues = _.uniq(objectA.concat(objectB));\r\n\t\treturn _.every(allvalues, value => {\r\n\t\t\tlet valuesA = _.filter(objectA, _v => compareObjects(_v,value));\r\n\t\t\tlet valuesB = _.filter(objectB, _v => compareObjects(_v,value));\r\n\t\t\tif (valuesA.length != valuesB.length) return false;\r\n\t\t\treturn compareObjects(valuesA[0], valuesB[0]);\r\n\t\t});\r\n\t} else {\r\n\t\tlet allkeys = _.uniq(_.keys(objectA).concat(_.keys(objectB)));\r\n\t\tif (allkeys.length != size) return false;\r\n\t\treturn _.every(allkeys, key => {\r\n\t\t\treturn compareObjects(objectA[key], objectB[key]);\r\n\t\t});\r\n\t}\r\n}\r\n","\r\nimport camelCase from '../camel-case/index.js';\r\nimport getOption from '../get-option/index.js';\r\n\r\nexport function triggerMethodOn(context, ...args) {\r\n\tif(!_.isObject(context)) { return; }\r\n\t\r\n\treturn triggerMethod.call(context, ...args);\r\n}\r\n\r\nexport default function triggerMethod(event, ...args) {\r\n\t// get the method name from the event name\r\n\tconst methodName = camelCase('on:' + event);\r\n\tconst method = getOption(this, methodName, { force: false });\r\n\tlet result;\r\n  \r\n\t// call the onMethodName if it exists\r\n\tif (_.isFunction(method)) {\r\n\t\t// pass all args, except the event name\r\n\t\tresult = method.apply(this, args);\r\n\t}\r\n  \r\n\tif(_.isFunction(this.trigger)) {\r\n\t\t// trigger the event\r\n\t\tthis.trigger.apply(this, arguments);\r\n\t}\r\n  \r\n\treturn result;\r\n}\r\n\r\n\r\n","export default function mergeOptions(options, ...keys) {\r\n\tif (!_.isObject(options)) { return; }\r\n  \r\n\tkeys = _.flatten(keys);\r\n\r\n\treturn _.reduce(keys, (merged, key) => {\r\n\t\tif(!_.isString(key)) {\r\n\t\t\treturn merged;\r\n\t\t}\r\n\t\tconst option = options[key];\r\n\r\n\t\tif (option !== undefined) {\r\n\t\t\tthis[key] = option;\r\n\t\t\tmerged[key] = option;\r\n\t\t}\r\n\t\t\r\n\t\treturn merged;\r\n\t}, {});\r\n}\r\n","import getOption from '../get-option/index.js';\r\nimport { isView, isViewClass } from 'bbmn-core';\r\n\r\nexport default function buildViewByKey(context, key, { TextView, options } = {}) {\r\n\t\r\n\tif(!_.isString(key)) { return; }\r\n\r\n\tlet view = getOption(context, key, { args: [ context ] });\r\n\tlet _options = getOption(context, key + 'Options', { args: [ context ] });\r\n\r\n\tif (TextView && _.isString(view)) {\r\n\t\t_options = _.extend({}, _options, { text: view });\r\n\t\tview = TextView;\r\n\t}\r\n\toptions = _.extend({}, options, _options);\r\n\r\n\tif (isView(view)) {\r\n\t\treturn view;\r\n\t} else if (isViewClass(view)) {\r\n\t\treturn new view(options);\r\n\t}\t\r\n}\r\n","// import getFlag from '../get-flag/index.js';\r\n// import hasFlag from '../has-flag/index.js';\r\nimport { getFlag, hasFlag } from '../flags/index.js';\r\n\r\nimport getByPath from '../get-by-path/index.js';\r\nimport setByPath from '../set-by-path/index.js';\r\nimport isEmptyValue from '../is-empty-value/index.js';\r\n\r\nexport const enumsStore = {};\r\n\r\nexport const enumsApi = {\r\n\tgetFlag,\r\n\thasFlag,\r\n\tgetByPath,\r\n\tsetByPath,\r\n\textendStore(hash){\r\n\t\t_.extend(enumsStore, hash);\r\n\t},\r\n\tgetEnum(arg){\r\n\t\tif(_.isObject(arg)) {\r\n\t\t\treturn arg;\r\n\t\t} else if(isEmptyValue(arg) || !_.isString(arg)){\r\n\t\t\treturn;\r\n\t\t} \r\n\t\r\n\t\treturn enumsApi.getByPath(enumsStore, arg);\r\n\t}\r\n};\r\n\r\n\r\nexport function get(arg, flag, options){\r\n\tif(arguments.length === 0) { return enumsStore; }\r\n\r\n\tlet _enum = enumsApi.getEnum(arg);\r\n\tif (arguments.length === 1) {\r\n\t\treturn _enum;\t\t\r\n\t}\r\n\t\r\n\treturn enumsApi.getFlag(_enum, flag, options);\r\n}\r\n\r\nexport function has(arg, flag, options){\r\n\tlet _enum = enumsApi.getEnum(arg);\r\n\treturn enumsApi.hasFlag(_enum, flag, options);\r\n}\r\n\r\nexport default {\r\n\tget,\r\n\thas,\r\n\tset(name, hash){\r\n\t\tif(_.isString(name)){\r\n\t\t\tenumsApi.setByPath(enumsStore, name, hash);\r\n\t\t} else if (_.isObject(name)){\r\n\t\t\tenumsApi.extendStore(name);\r\n\t\t}\r\n\t},\r\n};\r\n","export default function skipTake(array, take, skip = 0){\r\n\t\r\n\tif(!_.isObject(array)) { return; }\t\r\n\r\n\tif (!_.isNumber(take) || !_.isNumber(skip)) {\r\n\t\tthrow new Error('skipTake skip and take arguments must be a numbers');\r\n\t}\r\n\r\n\tif (!_.isArray(array)) {\r\n\t\tarray = _.toArray(array);\r\n\t}\r\n\r\n\tlet length = take + skip;\r\n\tif(array.length < length) { length = array.length; }\r\n\tlet taken = [];\r\n\tfor (let x = skip; x < length; x++) {\r\n\t\ttaken.push(array[x]);\r\n\t}\r\n\treturn taken;\r\n}\r\n","import { flat, unflat } from '../index.js';\r\n\r\nfunction norm(arg) {\r\n\treturn _.isObject(arg) ? arg : {};\r\n}\r\n\r\nexport default function mergeObjects(...objects) {\r\n\t\r\n\tlet flatted = _.reduce(objects, (dest, item) => {\r\n\t\t_.extend(dest, flat(norm(item)));\r\n\t\treturn dest;\r\n\t}, {});\r\n\r\n\treturn unflat(flatted);\r\n\r\n}\r\n"],"names":["ctors","_","reduce","Model","Collection","BackboneView","Router","MnObject","Region","BaseClass","ctor","isFunction","push","tryGetFromMn","each","Mn","ClassName","isKnownCtor","arg","isFn","result","knownCtors","some","prototype","betterResult","obj","key","opts","context","args","checkAlso","force","defaultValue","default","isString","value","apply","isObject","alsoOptions","omit","camelCase","text","first","length","isBoolean","pop","filter","chunk","join","toString","replace","splitter","match","prefix","toUpperCase","toLowerCase","takeFirst","getModel","isModel","isView","model","compareAB","a","b","func","isArray","every","f","call","getView","comparator","single","toNumber","isNumber","isNaN","parseFloat","undefined","trueValues","falseValues","alternative","returnValue","valueOrAlternative","nullable","nullValue","alts","alt","convertToBoolean","other","options","extend","defaultOptions","strict","returnNullAs","returnEmptyAs","returnNullAndEmptyAs","returnAnyAs","returnOtherAs","isTrue","indexOf","isFalse","toBool","convertString","type","Error","converter","converters","privateApi","source","destination","root","global","hash","attributes","props","Object","getOwnPropertyNames","x","name","prop","slice","isDate","Date","valueOf","traverse","flattenObject","getProperty","get","gettingByPath","getByPathArray","propertyName","pathArray","nextName","shift","getByPath","path","split","getOption","also","_opts","deep","instanceGetOption","isEmptyValue","allowWhiteSpace","trim","normalizeStringArray","arr","item","normalizeArgument","returnObject","normalizeValueAndFlag","flag","compare","caseSensitive","searchFlags","values","flags","useObjectValues","filtered","check","good","all","processReturns","founded","delimeter","takeObjectKeys","pluck","doNotPluck","index","normalizedReturn","returnAs","processor","processorOptions","getFlag","returnOptions","pick","hasFlag","has","createMixinFromObject","mixedObj","clone","hasOwnProperty","constructor","hasConstructor","mx","arguments","Base","normalizeArguments","raw","wrap","wrapObjectWithConstructor","merge","mergeObjects","mixins","size","unshift","withMethod","Mixed","class","Memo","Ctor","mixed","mix","_ctor","pstoSetPair","pair","keyvalue","pstoSetKeyValue","decodeURIComponent","transform","paramsToObject","emptyObject","pairs","setProperty","set","silent","setByPathArr","modelContext","models","normalizeSetByPathOptions","ext","triggerModelEventsOnSetByPath","rest","pathChunks","trigger","property","ensureSetByPathArguments","errors","setByPath","argumentsErrors","ensureArguments","normalizeOptions","setByPathArray","unFlat","res","e","ob","ar","fn","sum","checkArguments","chck","compareObjects","objectA","objectB","vals","val","allvalues","uniq","concat","valuesA","_v","valuesB","allkeys","keys","triggerMethodOn","triggerMethod","event","methodName","method","mergeOptions","flatten","merged","option","buildViewByKey","TextView","view","_options","isViewClass","enumsStore","enumsApi","_enum","getEnum","extendStore","skipTake","array","take","skip","toArray","taken","norm","objects","flatted","dest","flat","unflat"],"mappings":"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"}